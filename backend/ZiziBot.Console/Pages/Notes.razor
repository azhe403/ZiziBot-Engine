@page "/notes"
@using ZiziBot.Common.Dtos

<PageTitle>Notes</PageTitle>
<RadzenRow>
    <RadzenColumn Size="12">
        <RadzenRow>
            <RadzenColumn>
                <RadzenText Text="Notes" TextStyle="TextStyle.H3" TagName="TagName.H1"/>
                @* <RadzenText>Pilih Chat terlebih dahulu</RadzenText> *@
            </RadzenColumn>
            <RadzenColumn>
                <RadzenButton Text="Add Note" class="rz-align-right" Click="OnOpenAddDialog"></RadzenButton>
            </RadzenColumn>
        </RadzenRow>
        <RadzenSplitter Orientation="Orientation.Vertical" style="height: calc(100vh - 300px); border: 1px solid rgba(0, 0, 0, .08);">
            <RadzenSplitterPane Size="100px">
                <RadzenSplitter>
                    <RadzenSplitterPane Size="40%" Min="250px" Max="70%">
                        <ChatSelector SelectedChatIdChanged="OnSelectChatCallback"></ChatSelector>
                    </RadzenSplitterPane>
                    <RadzenSplitterPane>
                        <RadzenRow>
                            <RadzenColumn>
                                <RadzenText>Pilih Chat terlebih dahulu</RadzenText>
                            </RadzenColumn>
                            <RadzenColumn>
                                <RadzenButton Text="Add Note" class="rz-align-right" Click="OnOpenAddDialog"></RadzenButton>
                            </RadzenColumn>
                        </RadzenRow>
                        <RadzenListBox AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive" @bind-Value="NoteId" Data="ListNote" Change="OnSelectedItemChanged" TextProperty="Query" ValueProperty="Id" Style="width: 100%; height: calc(100% - 32px);">
                            <Template>
                                <RadzenRow class="w-100">
                                    <RadzenColumn>
                                        <RadzenButton Text="Edit" Click="OnSelectedItemChanged"></RadzenButton>
                                    </RadzenColumn>
                                    <RadzenColumn>
                                        <RadzenText>@((context as NoteDto).Query)</RadzenText>
                                    </RadzenColumn>
                                </RadzenRow>
                            </Template>
                        </RadzenListBox>
                    </RadzenSplitterPane>
                </RadzenSplitter>
            </RadzenSplitterPane>
        </RadzenSplitter>
    </RadzenColumn>
</RadzenRow>